---
import { getCollection } from 'astro:content'
import ReturnToGallery from '../../components/ReturnToGallery.astro'
import SiteLayout from '../../layouts/SiteLayout.astro'
export async function getStaticPaths() {
	const blogEntries = await getCollection('posts')
	return blogEntries.map((entry) => ({
		params: { slug: entry.slug },
		props: { entry }
	}))
}
// 2. For your template, you can get the entry directly from the prop
const { entry } = Astro.props
const { Content } = await entry.render()
---

<SiteLayout pageTitle={entry.data.title}>
	<ReturnToGallery />
	<div class="image-card">
		<h1 data-lang-key={entry.slug + '-title'} class="title">{entry.data.title}</h1>
		<h1 data-lang-key={entry.slug + '-description'} class="description">
			{entry.data.description}
		</h1>
		<img src={entry.data.image.url} alt={entry.data.image.alt} />

		<Content />
	</div>
</SiteLayout>

<style>
	.image-card {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		margin-top: 2rem;
	}
	.image-card img {
		width: 100%;
	}

	.title {
		font-size: 2.5rem;
		margin-bottom: 1rem;
		width: 100%;
	}

	.description {
		width: 100%;
		margin-bottom: 2rem;
		font-size: 1.5rem;
	}
</style>
